<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="CoffeeCup HTML Editor (www.coffeecup.com)">
    <meta name="dcterms.created" content="Wed, 14 Oct 2015 00:20:23 GMT">
    <meta name="description" content="">
    <meta name="keywords" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin [Blogs]</title>
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>

    <!--[if IE]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
	
	<style>
		
		#navText
		{
			position: relative;
			color: white;
			left: 05%;
			text-shadow: 2px 2px 2px black;
		}
	
		.navBlue
		{
			background-color: black;
			border: none;
		}
		
		.page-header
		{
			position: relative;
			text-align: center;
		}
		
		.content
		{
			position: relative;
			width: 100%;
			display: block;
			margin-left: auto;
			margin-right: auto;
			border-radius: 10px;
			margin-top: 15px;
			margin-bottom: 15px;
		}
		
		#blogRow
		{
			position: relative;
			width: 100%;
		}
		
		.blogContainer
		{
			position: relative;
			width: 100%;
		}
		
		.blogTitle
		{
			position: relative;
			text-align: center;
			color: white;
			text-shadow: 2px 2px 2px black;
		}
		
		#brand1
	   {
			position: relative;
			width: 110px;
			height: 100px;
			margin-left: 100px;
			margin-right: 50px;
	   }
	   
		#navbar-drop
	   {
			position: relative;
			margin-top: 15px;
	   }
	   .links
	   {
			position: relative;
			text-indent: 20px;
	   }
	   
	   #searchLg
	   {
			position: relative;
			top: 15px;
	   }
	   
	   #searchSm
	   {
			position: relative;
			margin-top: 50px;
			width: 50%;
	   }
	   
		#blogRow
		{
			position: relative;
			margin-bottom: 30px;
			display: block;
			margin-left: auto;
			margin-right: auto;
			background-color: blue;
		}
		
		.blog
		{
			position: relative;
			display: block;
			margin-left: auto;
			margin-right: auto;
			width: 75%;
			background-color: white;
			overflow: auto;
			margin-top: 20px;
			margin-bottom: 20px;
			border:1px solid white;
			border-radius: 5px;
		}
		
		.page-header
		{
			text-align: center;
		}
		
		#blogsHeader
		{
			position: relative;
			text-align: center;
			color: white;
			text-shadow: 2px 2px 2px lightgrey;
		}
		
		#brand2
		{
			position: relative;
			width: 110px;
			height: 100px;
		}
		
		#blogsContainer
		{
			position: relative;
			display: block;
			margin-left: auto;
			margin-right: auto;
			top: 50px;
			width: 70%;
		}

		.blogTitle
		{
			position: relative;
			text-align: center;
		}
		
		.blogCommentary
		{
			position: relative;
			word-wrap: break-word;
			text-indent: 15px;
		}
		
		.blogAuthor
		{
			position: relative;
			text-indent: 15px;
		}
		
		.headers
		{
			position:relative;
			text-decoration: underline;
			text-align: center;
		}
		
		.blogImagesContainer
		{
			position: relative;
			width: 100%;
		}
		
		.coverImageContainer
		{
			position: relative;
			width: 100%;
		}
		
		.coverImg
		{
			position: relative;
			width: 80px;
			height: 75px;
			display: block;
			margin-left: auto;
			margin-right: auto;
		}
	
		.additionalImg
		{
			position: relative;
			height: 40px;
			width: 50px;
		}
		
		.additionalImagesContainer
		{
			position: relative;
			width: 100%;
		}
		
		#searchButton
		{
			cursor: pointer;
		}
		
		#searchButton2
		{
			cursor: pointer;
		}
		
		.additionalImg
		{
			position: relative;
			margin-top: 5px;
			margin-bottom: 8px;
		}
		
		.confirmDeny
		{
			position: relative;
			margin-top: 10px;
			margin-bottom: 15px;
		}
		
		.confirm, .decline
		{
			position: relative;
			display: block;
			margin-left: auto;
			margin-right: auto;
		}
		
		footer
		{
			position: relative;
			background-color: black;
			width: 100%;
			top: 0px;
			display: none;
		}
		
		.admin p
		{
			color: white;
			text-indent: 10px;
			text-decoration: none;
		}
		
		.user p
		{
			color: white;
			text-indent: 10px;
		}
		
		#adminCol
		{
			position: relative;
			left: 5%;
			text-decoration: none;
		}
		
		#userCol
		{
			position: relative;
		}
		
		#userCol h3, #userCol a
		{
			text-align: center;
		}
		
		@media only screen and (max-device-width: 480px) 
		{
			/* define mobile specific styles come here */
			#blogsContainer
			{
				position: relative;
				display: block;
				margin-left: auto;
				margin-right: auto;
				top: 50px;	
				width: 100%;
			}
			
			footer
			{
				position: relative;
				background-color: black;
				width: 100%;
				top: 0px;
			}
		}
	</style>
	
	<script>
		$(document).ready(function()
		{
			if(!sessionStorage.auth)
			{
				$('body').empty();
				alert("Unauthorized");
				return 0;
			}
			
			else
			{
				$('#userCol').removeClass("col-md-12").removeClass('col-sm-12').removeClass('col-xs-12').addClass("col-sm-4").addClass("col-xs-4").addClass("col-md-4").addClass("col-sm-offset-1").addClass("col-xs-offset-1").addClass("col-md-offset-1s");
				$('#adminCol').show();
			}
			
			$('.admin p, .user p').hover(function()
			{
				$(this).css("color", "blue");
			},
			
			function()
			{
				$(this).css("color", "white");
			});
			
			if(sessionStorage.username != undefined)
			{
				$('#logIn').remove();
				
				$('#signUp').before("<button class = 'btn btn-warning btn-sm' id = 'logOut'> Log Out </button>");
				
				$('#logOut').css({ "position": "relative", "right": "15px", "top": "20px"});
			}
			
			$('#logOut').click(function()
			{
				sessionStorage.removeItem('username');
				
				alert("Logged out");
				
				if(sessionStorage.auth)
				{
					sessionStorage.removeItem('auth');
				}
				
				$('#logOut').remove();
				
				$('#signUp').before("<button type = 'button' class = 'btn btn-primary btn-sm' id = 'logIn'> Log In </button>");
				
				$('#logIn').css({ "position": "relative", "right": "15px", "top": "20px"});
				
				window.location.assign("http://freshminlifestyle-westcoast.rhcloud.com/");
			});
			
			$('#logIn').click(function()
			{
				window.location.assign("http://freshminlifestyle-westcoast.rhcloud.com/logIn");
			});
			
			$('#signUp').click(function()
			{
				window.location.assign("http://freshminlifestyle-westcoast.rhcloud.com/signUp");
			});

			var request = $.ajax({url: 'http://freshminlifestyle-westcoast.rhcloud.com/getBlogRequests'});
		
			request.success(function(data)
			{			
				//alert(data);
				data = JSON.stringify(data);
				data = JSON.parse(data);
				
				//alert(data[0]._id)
				
				if(data.length == 0)
				{
					alert("There are currently no blogs for review.");
				}
				
				else
				{
					for(var count = 0; count < data.length; count++)
					{
						renderContent(data[count], count);
					}
					
					$('footer').show();
					
					//alert(data[0]);
				}
				
				$('.confirm, .decline').click(function()
				{
					//alert($(this).attr("class"));
					
					var blogTitle = $(this).parent().parent().parent().find(".blogTitle strong").html();
				
					if($(this).attr("class").search("confirm") != -1)
					{
						//alert("confirm");
						
						var whichBlog = $(this).attr("id"), blogId = "confirm";
						
						whichBlog = whichBlog.split(blogId);
						
						//alert(Number(whichBlog[1]));
						
						//alert(blogTitle);
					
						var request = $.ajax({url: 'http://freshminlifestyle-westcoast.rhcloud.com/confirmBlog?title=' + blogTitle});
						
						request.success(function(data)
						{
							alert(data);
							
							location.reload();
						});
						
						request.error(function(response)
						{
							alert(response.reponseText);
						});
					}
					
					else
					{
						//alert("decline");
						
						var request = $.ajax({url: 'http://freshminlifestyle-westcoast.rhcloud.com/removeBlog', type: 'POST', data: {title: blogTitle}});
						
						request.success(function(data)
						{
							alert(data);
							location.reload();
							
						});
						
						request.fail(function(response)
						{
							alert(response.reponseText);
						});
					}
				});
	
			});
			
			request.fail(function(x)
			{
				alert(x.responseText);
			});
			
			function renderContent(data, counter)
			{
				var blogHTML =  		'<section class = "col-md-6 col-xs-12 col-sm-12 blogContainer" id ="' + data._id + '">' +
				
											'<section class = "container-fluid blog">' +
										
												'<h4 class = "blogTitle"> Blog Title:          <strong>' + data.Title +  '</strong> </h4>' +
					
												'<h5 class = "blogAuthor"> By:          <strong>' + data.Author  + ' </strong> </h5>' +
					
												'<h6 class = "blogCommentary"> Blog Commentary:          <strong>' + data.Commentary +  '</strong> </h6>' +
					
												'<section class = "container-fluid blogImagesContainer"  id = "' + counter + '">' +
							
												'</section>' +
					
												'<section class = "row confirmDeny">' + 
						
													'<section class = "col-md-6 col-xs-6 col-sm-6">' +
						
														'<button type = "button" class = "btn btn-primary confirm" id = "confirm' + counter + '"> Confirm </button>' +
							
													'</section>' +
						
													'<section class = "col-md-6 col-xs-6 col-sm-6">' +
							
														'<button type = "button" class = "btn btn-warning decline" id = "decline' + counter + '"> Decline </button>' +
							
													'</section>' +
						
												'</section>' +
					
											'</section>' +
											
										'</section>';
									
				$('#blogRow').append(blogHTML);
				
				renderImages(data, counter);
			}
			
			function renderImages(data, counter)
			{
				var coverImageHTML =	'<section class = "row coverImageContainer">' + 
							
											'<section class  "col-md-12 col-sm-12 col-xs-12">' +
								
												'<h5 class = "coverImgHeader headers"> <strong> Cover Image </strong> </h5>' +
									
												'<img src = "http://freshminlifestyle-westcoast.rhcloud.com/getBlogFiles?file=' + data.CoverImg + "&title=" + data.Title + '" class = "img-responsive coverImg">' +
								
											'</section>' +
							
										'</section>';
										
				$('#' + counter).append(coverImageHTML);
				
				//alert($('.coverImg').prop("src"));
				
				//alert(data.AdditionalImages.length);
				
				renderAdditionalImages(data, counter);
			}
			
			function renderAdditionalImages(data, counter)
			{		
				var additionalHTML = 	'<section class = "row" id = "additionalImagesContainer' + counter + '">' + 
										
											'<h5 class = "AdditionalImgHeader headers"> <strong> Additional Images </strong> </h5>' +
											
										'</section>';
										
				$('#' + counter).append(additionalHTML);
		
		
				for(var count = 0; count < data.AdditionalImages.length; count++)
				{
					//alert("Yea");
					additionalHTML = 	'<section class = "col-md-4 col-sm-4 col-xs-4">' +
												'<img src = "http://freshminlifestyle-westcoast.rhcloud.com/getBlogFiles?file=' + data.AdditionalImages[count] + "&title=" + data.Title + '" class = "img-responsive additionalImg">' +
											'</section>';
											
					$('#additionalImagesContainer' + counter).append(additionalHTML);
				}
			}
		});
	</script>
  </head>
  <body>
  
		<nav class = "navbar navbar-default navbar-fixed-top navBlue">
		
				 <section class = "container-fluid" id = "shiftNav">
				 
				 	<section class = "navbar-header">
						  
						<button class = "navbar-toggle collapsed slimNav" data-toggle = "collapse" data-target = "#collapsedNav" aria-expanded = "false">
								   
							<span class = "icon-bar"> </span>
								   
							<span class = "icon-bar"> </span>
								   
							<span class = "icon-bar"> </span>
								   
						</button>
								   
						<a href = "http://freshminlifestyle-westcoast.rhcloud.com" id = "navImageContainer" class = "hidden-xs"> <img class = "navbar-brand img-circle" id = "brand1" src = "http://freshminlifestyle-westcoast.rhcloud.com/siteLogo" title = "Home"> </a>
						
						<a href = "http://freshminlifestyle-westcoast.rhcloud.com" style = "position: relative;width: 100px;" id = "navImageContainer" class = "hidden-md hidden-sm hidden-lg"> <img id = "brand2" class = "navbar-brand img-circle" src = "http://freshminlifestyle-westcoast.rhcloud.com/siteLogo" title = "Home"> </a>
						
						<div class = "input-group input-group-md hidden-md hidden-lg" id = "searchSm"> 
							<span class = "input-group-addon" id = "searchButton2"> <span class = "glyphicon glyphicon-search" title = "Search"> </span> </span> 
							<input type = "input" id = "navSearch" class = "form-control" placeholder = "Freshmin.com" autocomplete = "off"> 
						</div>	
							
					</section>
						  
					<form class = "navbar-form navbar-right hidden-sm hidden-xs">

						<button type = "button" class = "btn btn-primary btn-sm" id = "logIn" style = "position: relative; right: 15px; top: 20px"> Log In </button>
						
						<button type = "button" class = "btn btn-info btn-sm" id = "signUp" style = "position: relative; right: 15px; top: 20px"> Sign Up </button>
											
						<div class = "input-group input-group-md" id = "searchLg"> 
							<span class = "input-group-addon" id = "searchButton"> <span class = "glyphicon glyphicon-search" title = "Search"> </span> </span> 
							<input type = "input" id = "navSearch" class = "form-control" placeholder = "Freshmin.com" autocomplete = "off"> 
						</div>	
										
					</form>    
						 
						  
					<section class = "collapse navbar-collapse" id = "collapsedNav">
						  
						<ul class = "nav navbar-nav" id = "navbar-drop">
								   
							<li class = "dropdown links"> 
									   	  
								<a class = "dropdown-toggle" data-toggle = "dropdown" role = "button" aria-haspopup= "true" aria-expanded = "false"> <h4> <strong> Xclusives </strong> <span class = "caret"> </span> </h4> </a>
										   
								<ul class = "dropdown-menu">
										   	   
									<li title "Videos"> <a href = "http://freshminlifestyle-westcoast.rhcloud.com/xclusiveVideos"> <h5> Videos </h5> </a> </li>
											   
									<li title = "Interviews"> <a href = "http://freshminlifestyle-westcoast.rhcloud.com/interviews"> <h5> Interviews </h5> </a> </li>	
											   
								</ul>
										   
							</li>
								   
							<li class = "links" title = "Videos"> <a href = "http://freshminlifestyle-westcoast.rhcloud.com/videos"> <h4> <strong> Videos </strong> </h4> </a> </li>
									   
							<li class = "links" title = "Blogs"> <a href = "http://freshminlifestyle-westcoast.rhcloud.com/blogs"> <h4> <strong id = "blogLink"> Blogs </strong> </h4> </a> </li>
									   
							<li class = "links" title = "Shop"> <a href = "http://freshminlifestyle-westcoast.rhcloud.com/about"> <h4> <strong> Shop </strong> </h4> </a> </li>
									   
							<li class = "links" title = "About"> <a href = "http://freshminlifestyle-westcoast.rhcloud.com/about"> <h4> <strong> About </strong> </h4> </a> </li>
									  
						</ul>
						  
					</section>
				 
				</section>
		
		</nav>

	
	<section class = "container-fluid" id = "blogsContainer">
		
		<section class = "page-header" style = "margin-top: 100px;">
			
			<h1> Blog Admin </h1>
			
		</section>
		
		<section class = "row" id = "blogRow">
			<h3 id = "blogsHeader"> Pending Blog Decisions </h3>
		</section>
		
	</section>
	
	<footer class = "container-fluid">
			
		<section class = "row">
		
			<section class = "col-md-4 col-sm-4 col-xs-4 col-md-offset-1 col-sm-offset-1 col-xs-offset-1" id = "adminCol">
			
				<h3 id = "adminHeader"> Admin Privileges </h3>
			
				<a href = "http://freshminlifestyle-westcoast.rhcloud.com/bloggersAdmin" class = "admin"><p> Blogger Requests </p></a>
				<a href = "http://freshminlifestyle-westcoast.rhcloud.com/blogAdmin" class = "admin"><p> Blog Requests </p></a>
				<a href = "http://freshminlifestyle-westcoast.rhcloud.com/videoAdmin" class = "admin"><p> Videos </p></a>
				<a href = "http://freshminlifestyle-westcoast.rhcloud.com/originalAdmin" class = "admin"><p> Xclusives </p></a>
				<a href = "http://freshminlifestyle-westcoast.rhcloud.com/newsAdmin" class = "admin"><p> Upload News</p></a>
				<a href = "http://freshminlifestyle-westcoast.rhcloud.com/hottest" class = "admin"><p> Hottest </p></a>
				<a href = "http://freshminlifestyle-westcoast.rhcloud.com/deleteContent" class = "admin"><p> Deletion </p></a>
				<a href = "http://freshminlifestyle-westcoast.rhcloud.com/updateContent" class = "admin"><p> Update </p></a>
				<a href = "http://freshminlifestyle-westcoast.rhcloud.com/emailUsers" class = "admin"><p> Email </p></a>
				
			</section>
		
			<section class = "col-md-12 col-sm-12 col-xs-12" id = "userCol">
			
				<h3 id = "userHeader"> User Requests</h3>
			
				<a href = "http://freshminlifestyle-westcoast.rhcloud.com/bloggerRequest" class = "user"><p> Blogger Request </p></a>
				<a href = "http://freshminlifestyle-westcoast.rhcloud.com/blogUpload" class = "user"><p> Blog Requests </p></a>
			
			</section>
		
		</section>
		
		<section class = "container-fluid" id = "copyrightContainer">
			
			<img src = "http://freshminlifestyle-westcoast.rhcloud.com/copyrightImage" class = "copyright img-responsive"> <h5 class = "copyrightTitle"> 2016 Freshmin | Smart Designs </h5>
			
		</section>

	</footer>
	
  </body>
</html>