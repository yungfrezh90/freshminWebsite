<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="CoffeeCup HTML Editor (www.coffeecup.com)">
    <meta name="dcterms.created" content="Wed, 14 Oct 2015 00:20:23 GMT">
    <meta name="description" content="">
    <meta name="keywords" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin [Bloggers]</title>
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>

    <!--[if IE]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
	
	<style>
		.navBlue
		{
			position: relative;
			background-color: black;
		}

		.collapsed
		{
			position: relative;
			margin-bottom: -20px;
		}
	
		#blogsContainer
		{
			position: relative;
			display: block;
			margin-left: auto;
			margin-right: auto;
			background-color: lightgrey;
			border: 2px solid lightgrey;
			border-radius: 10px;
		}
		
		.page-header
		{
			position: relative;
			text-align: center;
		}
		
		.content
		{
			position: relative;
			width: 100%;
			display: block;
			margin-left: auto;
			margin-right: auto;
			border-radius: 10px;
			margin-top: 15px;
			margin-bottom: 15px;
		}
		
		#blogRow
		{
			position: relative;
			width: 100%;
		}
		
		.blogContainer
		{
			position: relative;
			width: 100%;
		}
		
		.blogTitle
		{
			position: relative;
			text-align: center;
			color: white;
			text-shadow: 2px 2px 2px black;
		}
		
		.links a h4
		{
			position: relative;
			color: white;
		}
		
		#brand1
		{
			position: relative;
			width: 100px;
			height: 100px;
			left: 50%;
		}
	   
		#navbar-drop
		{
			position: relative;
			margin-top: 15px;
			left: 2%;
		}
		
		.links
		{
			position: relative;
			margin-left: 75px;
		}
	   
		#search
		{
			position: relative;
			margin-top: 25px;
		}
	   
		.title
		{
			text-decoration: none;
		}
	   
		body
		{
			background-color: lightgrey;
		}
		
		footer
		{
			position: relative;
			background-color: black;
			width: 100%;
			top: 323px;
		}
		
		
		
		#adminCol a
		{
			position: relative;
			text-decoration: none;
		}
		
		#adminCol
		{
			position: relative;
			left: 5%;
			text-decoration: none;
		}
		
		#userCol a
		{
			position: relative;
			text-decoration: none;
		}
		
		.admin p
		{
			color: white;
			text-indent: 10px;
			text-decoration: none;
		}
		
		.user p
		{
			color: white;
			text-indent: 10px;
		}
		
		#copyrightContainer
		{
			position: relative;
			display: block;
			margin-left: auto;
			margin-right: auto;
			width: 280px;
		}
		
		.copyright
		{
			position: relative;
			height: 20px;
			width: 15px;
			display: block;
			margin-left: auto;
			margin-right: auto;
			cursor: pointer;
		}
		
		.copyrightTitle
		{
			position: relative;
			color: white;
		}
	
		.copyrightTitle,.copyright
		{
			position: relative;
			display: inline-block;
		}
		
		#userHeader, #adminHeader
		{
			position: relative;
			color: dodgerblue;
			text-shadow: 2px 2px 2px lightgrey;
		}
		
		#adminCol
		{
			position: relative;
			display: none;
		}
		
		#userCol
		{
			position: relative;
		}
		
		#userCol h3, #userCol a
		{
			text-align: center;
		}
		
		.navbar-form
		{
			position: relative;
			border: none;
		}
		
		#bloggerContainer
		{
			position: relative;
			background-color: white;
			width: 60%;
			display: block;
			margin-left: auto;
			margin-right: auto;
		}
		
		.blogger
		{
			position: relative;
			background-color: lightgrey;
			display: block;
			margin-left: auto;
			width: 55%;
			margin-bottom: 30px;
			margin-top: 10px;
			border: 2px lightgrey solid;
			border-radius: 10px;
		}
		
		.confirmOrDeny
		{
			position: relative;
			margin-bottom: 10px;
			display: block;
			margin-left: auto;
			margin-right: auto;
			left: 40%;
		}
		
		.bloggerName
		{
			position: relative;
			text-align: center;
			text-shadow: 1px 1px 1px black;
		}
		
		.article h5
		{
			position: relative;
			text-align: center;
		}
		
		.newRow
		{
			position: relative;
			left: 25%;
		}
		
		.page-header
		{
			text-align: center;
			text-shadow: 2px 2px 2px lightgrey;
		}
		
	   #searchLg
	   {
			position: relative;
			top: 15px;
	   }
	   
	   #searchSm
	   {
			position: relative;
			margin-top: 30px;
			width: 70%;
	   }
	   
	   	#brand2
		{
			position: relative;
			width: 110px;
			height: 100px;
		}
	
	</style>
	
	<script>
		$(document).ready(function()
		{
			if(!sessionStorage.auth)
			{
				$('body').empty();
				alert("Unauthorized");
				return 0;
			}
			
			else
			{
				$('#userCol').removeClass("col-md-12").removeClass('col-sm-12').removeClass('col-xs-12').addClass("col-sm-4").addClass("col-xs-4").addClass("col-md-4").addClass("col-sm-offset-1").addClass("col-xs-offset-1").addClass("col-md-offset-1s");
				$('#adminCol').show();
			}
			
			if(sessionStorage.username != undefined)
			{
				$('#logIn').remove();
				
				$('#signUp').before("<button class = 'btn btn-warning btn-sm' id = 'logOut'> Log Out </button>");
				
				$('#logOut').css({ "position": "relative", "right": "15px", "top": "20px"});
			}
			
			$('#logOut').click(function()
			{
				sessionStorage.removeItem('username');
				
				alert("Logged out");
				
				if(sessionStorage.auth)
				{
					sessionStorage.removeItem('auth');
				}
				
				$('#logOut').remove();
				
				$('#signUp').before("<button type = 'button' class = 'btn btn-primary btn-sm' id = 'logIn'> Log In </button>");
				
				$('#logIn').css({ "position": "relative", "right": "15px", "top": "20px"});
				
				window.location.assign("http://freshminlifestyle-westcoast.rhcloud.com/");
			});
			
			$('#logIn').click(function()
			{
				window.location.assign("http://freshminlifestyle-westcoast.rhcloud.com/logIn");
			});
			
			$('#signUp').click(function()
			{
				window.location.assign("http://freshminlifestyle-westcoast.rhcloud.com/signUp");
			});
		
			$('.links a h4').hover(function()
			{
				$(this).css("color", "blue");
			},
				
			function()
			{
				$(this).css("color", "white");
			});
		
			var bloggerData = null;
		
			function renderContent(data, bloggerHTML)
			{
				//alert(data);
			
				data = JSON.parse(data);
				
				if(data.length == 0)
				{
					alert("There are currently no blogger requests.");
					return 0;
				}
				
				bloggerData = data;
				
				var length = data.length;
				
				var bloggerHTML;
				
				for(var count = 0; count < length; count++)
				{
					bloggerHTML = '<section class = "col-md-12 col-sm-12 col-xs-12 container-fluid" style = "margin-bottom: 20px;">' +
						
									'<h4 class = "bloggerName">' + data[count].User + '</h4>' +
						
									'<a href = "' + data[count].Article + '" class = "article"> <h5> User Article </h5> </a>' +
						
									'<section class = "btn-group btn-group-sm confirmOrDeny" role = "group">' +
						
										'<button type = "button" class = "btn btn-primary confirm"> Confirm </button>' +
							
										'<button type = "button" class = "btn btn-warning decline"> Decline </button>' +
										
									'</section>' +
						
								'</section>';
					
					$('#insertion').append(bloggerHTML);
				}
				
							
				$('.confirm').click(function()
				{
					var date = new Date();
				
					var send = confirm("Are you sure would like to confirm " + $(this).parent().prev().prev().html() + "'s blogger request?");
				
					if(send)
					{
						var count = $(this).parent().prev().prev().parent().parent().parent().attr("id");
						
						count = count.split("blogger");
						
						count = count[1].substring(1, (count.length - 1));
					
						var bloggerCount = Number(count);
						
						//alert(bloggerCount);
						
						sendRequest(bloggerData[bloggerCount].User, bloggerData[bloggerCount].Email, date, true, $(this).parent().prev().prev().parent().parent().parent());
					}
				});
				
				$('.decline').click(function()
				{
					var date = new Date();
				
					var send = confirm("Are you sure would like to decline " + $(this).parent().prev().prev().html() + "'s blogger request?");
				
					if(send)
					{
						var count = $(this).parent().prev().prev().parent().parent().parent().attr("id");
						
						count = count.split("blogger");
						
						count = count[1].substring(1, (count.length - 1));
					
						var bloggerCount = Number(count);
						
						//alert(bloggerCount);
						
						sendRequest(bloggerData[bloggerCount].User, bloggerData[bloggerCount].Email, date, false, $(this).parent().prev().prev().parent().parent().parent());
					}
				});
			}
			
			function sendRequest(user, email, date, confirm, bloggerContainer)
			{
				if(confirm)
				{
					var requestOptions =
					{
						url: "http://freshminlifestyle-westcoast.rhcloud.com/confirmBlogger?user=" + user + "&email=" + email + "&date=" + date
					};
					
					var request = $.ajax(requestOptions);
					
					request.success(function(data)
					{
						alert(data);
						
						if(data.length == 0)
						{
							return 0;
						}
						
						bloggerContainer.remove();
					});
					
					request.error(function(x)
					{
						alert(x.responseText);
					});
				}
				
				else
				{
					var requestOptions =
					{
						url: "http://freshminlifestyle-westcoast.rhcloud.com/removeBlogger?user=" + user
					};
					
					var request = $.ajax(requestOptions);
					
					request.success(function(data)
					{
						alert(data);
						
						bloggerContainer.remove();
					});
					
					request.fail(function(x)
					{
						alert(x.responseText);
					});
				}
			}
			
			var request = $.ajax({url: 'http://freshminlifestyle-westcoast.rhcloud.com/bloggerQuery'});
			
			request.success(function(data)
			{
				//alert(data);
				
				renderContent(data);
			});
			
			request.fail(function(x)
			{
				alert(x.responseText);
			});
		});
	</script>
	
  </head>
  <body>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"> </script>
	
		<nav class = "navbar navbar-default navbar-fixed-top navBlue">
		
				 <section class = "container-fluid" id = "shiftNav">
				 
				 	<section class = "navbar-header">
						  
						<button class = "navbar-toggle collapsed slimNav" data-toggle = "collapse" data-target = "#collapsedNav" aria-expanded = "false">
								   
							<span class = "icon-bar"> </span>
								   
							<span class = "icon-bar"> </span>
								   
							<span class = "icon-bar"> </span>
								   
						</button>
								   
						<a href = "http://freshminlifestyle-westcoast.rhcloud.com" id = "navImageContainer" class = "hidden-xs"> <img class = "navbar-brand img-circle" id = "brand1" src = "http://freshminlifestyle-westcoast.rhcloud.com/siteLogo" title = "Home"> </a>
						
						<a href = "http://freshminlifestyle-westcoast.rhcloud.com" style = "position: relative;width: 100px;" id = "navImageContainer" class = "hidden-md hidden-sm hidden-lg"> <img id = "brand2" class = "navbar-brand img-circle" src = "http://freshminlifestyle-westcoast.rhcloud.com/siteLogo" title = "Home"> </a>
						
						<div class = "input-group input-group-md hidden-md hidden-lg" id = "searchSm"> 
							<span class = "input-group-addon" id = "searchButton"> <span class = "glyphicon glyphicon-search" title = "Search"> </span> </span> 
							<input type = "input" id = "navSearch" class = "form-control" placeholder = "Freshmin.com" autocomplete = "off"> 
						</div>	
							
					</section>
						  
					<form class = "navbar-form navbar-right hidden-sm hidden-xs">

						<button type = "button" class = "btn btn-primary btn-sm" id = "logIn" style = "position: relative; right: 15px; top: 20px"> Log In </button>
						
						<button type = "button" class = "btn btn-info btn-sm" id = "signUp" style = "position: relative; right: 15px; top: 20px"> Sign Up </button>
											
						<div class = "input-group input-group-md" id = "searchLg"> 
							<span class = "input-group-addon" id = "searchButton"> <span class = "glyphicon glyphicon-search" title = "Search"> </span> </span> 
							<input type = "input" id = "navSearch" class = "form-control" placeholder = "Freshmin.com" autocomplete = "off"> 
						</div>	
										
					</form>    
						 
						  
					<section class = "collapse navbar-collapse" id = "collapsedNav">
						  
						<ul class = "nav navbar-nav" id = "navbar-drop">
								   
							<li class = "dropdown links"> 
									   	  
								<a class = "dropdown-toggle" data-toggle = "dropdown" role = "button" aria-haspopup= "true" aria-expanded = "false"> <h4> <strong> Xclusives </strong> <span class = "caret"> </span> </h4> </a>
										   
								<ul class = "dropdown-menu">
										   	   
									<li title "Videos"> <a href = "http://freshminlifestyle-westcoast.rhcloud.com/xclusiveVideos"> <h5> Videos </h5> </a> </li>
											   
									<li title = "Interviews"> <a href = "http://freshminlifestyle-westcoast.rhcloud.com/interviews"> <h5> Interviews </h5> </a> </li>	
											   
								</ul>
										   
							</li>
								   
							<li class = "links" title = "Videos"> <a href = "http://freshminlifestyle-westcoast.rhcloud.com/videos"> <h4> <strong> Videos </strong> </h4> </a> </li>
									   
							<li class = "links" title = "Blogs"> <a href = "http://freshminlifestyle-westcoast.rhcloud.com/blogs"> <h4> <strong id = "blogLink"> Blogs </strong> </h4> </a> </li>
									   
							<li class = "links" title = "Shop"> <a href = "http://freshminlifestyle-westcoast.rhcloud.com/about"> <h4> <strong> Shop </strong> </h4> </a> </li>
									   
							<li class = "links" title = "About"> <a href = "http://freshminlifestyle-westcoast.rhcloud.com/about"> <h4> <strong> About </strong> </h4> </a> </li>
									  
						</ul>
						  
					</section>
				 
				</section>
		
		</nav>
	
	<section class = "container-fluid" id = "bloggerContainer">
	
		<section class = "page-header">
		
			<h1> Blogger Admin </h1>
		
		</section>
		
		<section class = "row" id = "insertion">
		
		</section>
		
	</section>
	
	<footer class = "container-fluid">
			
		<section class = "row">
		
				<section class = "col-md-4 col-sm-4 col-xs-4 col-md-offset-1 col-sm-offset-1 col-xs-offset-1" id = "adminCol">
				
					<h3 id = "adminHeader"> Admin Privileges </h3>
				
					<a href = "http://freshminlifestyle-westcoast.rhcloud.com/bloggersAdmin" class = "admin"><p> Blogger Requests </p></a>
					<a href = "http://freshminlifestyle-westcoast.rhcloud.com/blogAdmin" class = "admin"><p> Blog Requests </p></a>
					<a href = "http://freshminlifestyle-westcoast.rhcloud.com/videoAdmin" class = "admin"><p> Videos </p></a>
					<a href = "http://freshminlifestyle-westcoast.rhcloud.com/originalAdmin" class = "admin"><p> Xclusives </p></a>
					<a href = "http://freshminlifestyle-westcoast.rhcloud.com/newsAdmin" class = "admin"><p> Upload News</p></a>
					<a href = "http://freshminlifestyle-westcoast.rhcloud.com/hottest" class = "admin"><p> Hottest </p></a>
					<a href = "http://freshminlifestyle-westcoast.rhcloud.com/deleteContent" class = "admin"><p> Deletion </p></a>
					<a href = "http://freshminlifestyle-westcoast.rhcloud.com/updateContent" class = "admin"><p> Update </p></a>
					<a href = "http://freshminlifestyle-westcoast.rhcloud.com/emailUsers" class = "admin"><p> Email </p></a>
					
				</section>
			
				<section class = "col-md-12 col-sm-12 col-xs-12" id = "userCol">
				
					<h3 id = "userHeader"> User Requests</h3>
				
					<a href = "http://freshminlifestyle-westcoast.rhcloud.com/bloggerRequest" class = "user"><p> Blogger Request </p></a>
					<a href = "http://freshminlifestyle-westcoast.rhcloud.com/blogUpload" class = "user"><p> Blog Requests </p></a>
				
				</section>
		
		</section>
		
		<section class = "container-fluid" id = "copyrightContainer">
			
			<img src = "http://freshminlifestyle-westcoast.rhcloud.com/copyrightImage" class = "copyright img-responsive"> <h5 class = "copyrightTitle"> 2016 Freshmin | Smart Designs </h5>
			
		</section>

	</footer>
		
  </body>
</html>